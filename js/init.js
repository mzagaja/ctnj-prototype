var broadstreet=broadstreet||function(){var p="//ad.broadstreetads.com/";var r="//my.broadstreetads.com/";var h=false;var a="";var g=document.getElementsByTagName("head")[0];var i={queue:[],running:false,add:function(u,v,t){this.queue.push([u,v,t])},performNext:function(v){v=v||this;v.running=true;var w=v.queue.shift();if(!w){v.running=false;return}var t=false;var u=document.createElement("script");u.type="text/javascript";u.async=true;u.src=e(w[1],w[2])+"&target="+w[0];u.onload=u.onreadystatechange=function(){if(!t&&(!u.readyState||u.readyState==="loaded"||u.readyState==="complete")){t=true;v.performNext(v);u.onload=u.onreadystatechange=null;if(g&&u.parentNode){g.removeChild(u)}}};g.insertBefore(u,g.firstChild)},run:function(){if(this.running){return}this.performNext()}};var d=document.getElementsByTagName("script");var n=d[d.length-1].src;var b=document.createElement("a");b.href=n;if(!b.href.match(/street/)){p=b.protocol+"//"+b.host+"/";console.log("auto-setting host to "+p)}var f=function(t){return Math.round((Math.pow(36,t+1)-Math.random()*Math.pow(36,t))).toString(36).slice(1)};var l=(new Date()).getTime()+"_"+f(32);var o=function(w,v,t){if(!t){var u="bs-async-"+Math.floor(Math.random()*999999999).toString();t=u;document.write('\x3Cspan id="'+t+'">\x3C/span>')}else{document.getElementById(t).innerHTML=""}i.add(t,w,v);i.run();return t};var k=function(x,u){var w=c(u.zone_id),v;if(w){v='\x3Cscript type="text/javascript" src="'+p+"display/"+w.ad_id+'.js?preview=true">\x3C/script>';document.write(v);return}u=u||{};u.async=u.async===undefined?h:u.async;if(u.async){var t=o(x,u);return{refresh:function(){o(x,u,t)}}}else{v='\x3Cscript type="text/javascript" src="'+e(x,u)+'">\x3C/script>';document.write(v)}};var q=function(){var u=window.location.pathname;var t=u.indexOf(".");return window.location.pathname.slice(1,t!==-1?t:undefined).split("/")};var m=function(t){return typeof t.join==="function"?t.join(","):t};var e=function(u,t){if(t.uriKeywords){t.keywords=q()}u+="?b="+a;if(t.keywords){u+="&kw="+m(t.keywords)}if(t.count){u+="&count="+t.count}if(t.softKeywords){u+="&skw=true"}if(t.selfieCallback){u+="&st="+broadstreet.storeSelfieFunction(t.selfieCallback)}if(t.responsive){u+="&resp=true"}return p+u};var s=false;var c=function(u){var t=j("broadstreet_preview_zone");var v=j("broadstreet_preview_ad");if(t&&v&&t==u&&!s){s=true;return{zone_id:t,ad_id:v}}else{return null}};var j=function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var v=new RegExp("[\\?&]"+t+"=([^&#]*)"),u=v.exec(location.search);return u===null?null:decodeURIComponent(u[1].replace(/\+/g," "))};return{uriSegments:q,setWhitelabel:function(t){if(!t.match(/\/$/)){t+="/"}p=t},setDefaultAsync:function(t){h=t},register:function(t){a+=a?","+t:t},zone:function(u,t){t=t||{};t.zone_id=u;return k("zdisplay/"+u.toString()+".js",t)},zone_alias:function(v,u,t){return k("zndisplay/"+v.toString()+"/"+u+".js",t)},trackHover:function(v,t){v.onmouseover=undefined;var u=window.XMLHttpRequest?new XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP");u.open("GET",t,true);u.send()},Analytics:function(u){var z="",w="",A="",t=u;var v=(new Date()).getTime()+"_"+f(32);var y=function(F,D){var E=D.charAt(0);for(;F&&F!==document;F=F.parentNode){if(E==="."){if(F.classList.contains(D.substr(1))){return F}}if(E==="#"){if(F.id===D.substr(1)){return F}}if(E==="["){if(F.hasAttribute(D.substr(1,D.length-2))){return F}}if(F.tagName.toLowerCase()===D){return F}}return false};var B=y(t,"[data-bs-ad-id]");if(B){z=B.attributes["data-bs-ad-id"].value;if(B.attributes["data-bs-campaign-id"]){A=B.attributes["data-bs-campaign-id"].value}if(B.attributes["data-bs-zone-id"]){w=B.attributes["data-bs-zone-id"].value}}var C=function(D,H,F){if(z){var G="?ad_id="+z;if(A){G+="&campaign_id="+A}if(A){G+="&zone_id="+w}G+="&page_imp_id="+l;G+="&ad_imp_id="+v;G+="&event_name="+D;G+="&event_value="+H;var E=window.XMLHttpRequest?new XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP");E.open("GET",p+"event"+G,!F);E.withCredentials=true;E.send()}else{console.log("Could not track event for unknown node: ",D,"=",H)}};var x={trackEvent:C};return{invoke:function(D){if(x[D]){x[D].apply(null,Array.prototype.slice.call(arguments).slice(1))}}}}}}();